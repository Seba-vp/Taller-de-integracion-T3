{"ast":null,"code":"var _jsxFileName = \"/home/seba/Escritorio/APP_Taller_Integracion/T3/flight-app/src/componentes/Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffeect, useRef } from 'react';\nimport Socket from './Socket';\nimport socket from './Socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Chat = ({\n  name\n}) => {\n  _s();\n\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  useEffeect(() => {\n    socket.emit('conectado', name);\n  }, [name]);\n  useEffeect(() => {\n    socket.on('CHAT', mensaje => {\n      setMessages([...messages, mensaje]);\n    });\n    return () => {\n      socket.off();\n    };\n  }, [messages]);\n\n  const submit = e => {\n    e.preventDefault();\n    socket.emit('CHAT', name, message);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: messages.map((e, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", e.message, \" \"]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 39\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \" Escriba su mensaje\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"\",\n        id: \"\",\n        cols: \"30\",\n        rows: \"10\",\n        value: message,\n        onChange: e => setMessage(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Enviar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Chat, \"65gXSudJMQhthm8Jk6dbu3oF6pk=\", false, function () {\n  return [useEffeect, useEffeect];\n});\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/seba/Escritorio/APP_Taller_Integracion/T3/flight-app/src/componentes/Chat.js"],"names":["React","useState","useEffeect","useRef","Socket","socket","Chat","name","message","setMessage","messages","setMessages","emit","on","mensaje","off","submit","e","preventDefault","map","i","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,MAArC,QAAkD,OAAlD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAGA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AAAA;;AAEvB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAAyBV,QAAQ,CAAC,EAAD,CAAvC;AAEAC,EAAAA,UAAU,CAAC,MAAM;AACbG,IAAAA,MAAM,CAACO,IAAP,CAAY,WAAZ,EAAyBL,IAAzB;AACH,GAFS,EAEP,CAACA,IAAD,CAFO,CAAV;AAMAL,EAAAA,UAAU,CAAC,MAAM;AACbG,IAAAA,MAAM,CAACQ,EAAP,CAAU,MAAV,EAAkBC,OAAO,IAAI;AACzBH,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcI,OAAd,CAAD,CAAX;AACH,KAFD;AAIA,WAAO,MAAM;AAACT,MAAAA,MAAM,CAACU,GAAP;AAAa,KAA3B;AACH,GANS,EAMP,CAACL,QAAD,CANO,CAAV;;AAQA,QAAMM,MAAM,GAAIC,CAAD,IAAO;AAClBA,IAAAA,CAAC,CAACC,cAAF;AACAb,IAAAA,MAAM,CAACO,IAAP,CAAY,MAAZ,EAAoBL,IAApB,EAA0BC,OAA1B;AACH,GAHD;;AAKA,sBACI;AAAA,4BACI;AAAA,gBACKE,QAAQ,CAACS,GAAT,CAAa,CAACF,CAAD,EAAGG,CAAH,kBAAQ;AAAA,wBAAeH,CAAC,CAACT,OAAjB;AAAA,SAAUY,CAAV;AAAA;AAAA;AAAA;AAAA,cAArB;AADL;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAM,MAAA,QAAQ,EAAEJ,MAAhB;AAAA,8BACI;AAAO,QAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAU,QAAA,IAAI,EAAC,EAAf;AAAkB,QAAA,EAAE,EAAC,EAArB;AAAwB,QAAA,IAAI,EAAC,IAA7B;AAAkC,QAAA,IAAI,EAAC,IAAvC;AAA4C,QAAA,KAAK,EAAGR,OAApD;AAA6D,QAAA,QAAQ,EAAES,CAAC,IAAIR,UAAU,CAACQ,CAAC,CAACI,MAAF,CAASC,KAAV;AAAtF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH,CAxCD;;GAAMhB,I;UAKFJ,U,EAMAA,U;;;KAXEI,I;AA0CN,eAAeA,IAAf","sourcesContent":["import React, {useState, useEffeect, useRef} from 'react';\nimport Socket from './Socket';\nimport socket from './Socket';\n\n\nconst Chat = ({ name }) => {\n\n    const [message, setMessage] = useState(\"\");\n    const [messages, setMessages] =useState([]);\n\n    useEffeect(() => {\n        socket.emit('conectado', name);\n    }, [name]);\n\n\n\n    useEffeect(() => {\n        socket.on('CHAT', mensaje => {\n            setMessages([...messages, mensaje]);\n        })\n\n        return () => {socket.off()}\n    }, [messages]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        socket.emit('CHAT', name, message)\n    };\n\n    return (\n        <div>\n            <div>\n                {messages.map((e,i)=> <div key={i}> {e.message} </div>)}\n            </div>\n            <form onSubmit={submit}>\n                <label htmlFor=\"\"> Escriba su mensaje</label>\n                <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" value= {message} onChange={e => setMessage(e.target.value)}></textarea>\n\n                <button>Enviar</button>\n            </form>\n            \n        </div>\n\n\n    )\n}\n\nexport default Chat"]},"metadata":{},"sourceType":"module"}